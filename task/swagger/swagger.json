{"openapi":"3.0.0","paths":{"/projects":{"post":{"operationId":"ProjectsController_create","summary":"","description":"Create a new Project. The user must have Create permission for Projects.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProjectDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Project"}}}}},"tags":["projects"],"security":[{"bearer":[]}]},"get":{"operationId":"ProjectsController_findAll","summary":"","description":"Get a list of all Projects. The user must have permission to Read all Projects.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Project"}}}}}},"tags":["projects"],"security":[{"bearer":[]}]}},"/projects/search":{"get":{"operationId":"ProjectsController_searchAll","summary":"","description":"Get a list of Projects on which the calling user have access to.\nThe user must have Read permission on the Projects.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Project"}}}}}},"tags":["projects"],"security":[{"bearer":[]}]}},"/projects/{id}":{"get":{"operationId":"ProjectsController_findOne","summary":"","description":"Get a Project. The calling user must have Read permission the Project.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Project"}}}}},"tags":["projects"],"security":[{"bearer":[]}]},"patch":{"operationId":"ProjectsController_update","summary":"","description":"Update a Project. The calling user must have Update permission the Project.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProjectDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Project"}}}}},"tags":["projects"],"security":[{"bearer":[]}]},"delete":{"operationId":"ProjectsController_remove","summary":"","description":"Delete a Project. The calling user must have Delete permission the Project.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["projects"],"security":[{"bearer":[]}]}},"/tasks":{"post":{"operationId":"TasksController_create","summary":"","description":"Create a new Task. The user must have Create permission for Tasks.\nUser can only create Tasks for its own Projects.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTaskDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"}}}}},"tags":["tasks"],"security":[{"bearer":[]}]},"get":{"operationId":"TasksController_findAll","summary":"","description":"Get a list of all Tasks. The user must have permission to Read all Tasks.","parameters":[{"name":"projectId","required":false,"in":"query","description":"The project to which the tasks belongs.","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Task"}}}}}},"tags":["tasks"],"security":[{"bearer":[]}]}},"/tasks/{id}/activate":{"put":{"operationId":"TasksController_activate","summary":"","description":"By default, Task is created as draft. Use this endpoint to Activate the task.\nActivating a task changes its status to open, and it can no longer be edited.\n\nThere are certain pre-requisites for activating a Task.\n\n1. The Task must contain Questions\n2. The Task must contain crowd selection criteria (Skills and Countries)\n3. The Task must be in Draft state\n4. The task must contain Pictures, or Iframe Urls or textual description of Idea.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"}}}}},"tags":["tasks"],"security":[{"bearer":[]}]}},"/tasks/iterations/{projectId}":{"get":{"operationId":"TasksController_findIterations","summary":"","description":"Get a list of all task iterations for a projectId. The iterations are returned in descending order.\nThe user must have Read permission on the Project and its Task iterations.","parameters":[{"name":"projectId","required":true,"in":"path","description":"The project id to list iterations for","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Task"}}}}}},"tags":["tasks"],"security":[{"bearer":[]}]}},"/tasks/open":{"get":{"operationId":"TasksController_findOpenTasks","summary":"","description":"Get open tasks for Crowdworker to work on. The calling user must have Create permission for the Feedback,\nbecause only those users can see open tasks which have permission to create feedbacks.\nOnly those Tasks will be returned where user have not provided Feedback yet.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Task"}}}}}},"tags":["tasks"],"security":[{"bearer":[]}]}},"/tasks/{id}":{"get":{"operationId":"TasksController_findOne","summary":"","description":"Get a Task. The calling user must have Read permission the Task.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"}}}}},"tags":["tasks"]},"patch":{"operationId":"TasksController_update","summary":"","description":"Update a Task. The calling user must have Update permission the Task.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTaskDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"}}}}},"tags":["tasks"],"security":[{"bearer":[]}]},"delete":{"operationId":"TasksController_remove","summary":"","description":"Delete a Task. The calling user must have Delete permission the Task.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["tasks"],"security":[{"bearer":[]}]}},"/tasks/{id}/imageUploadSignature":{"get":{"operationId":"TasksController_imageUploadSignature","summary":"","description":"Images are uploaded to cloudinary.com. For uploading an image, a signature is required.\nThis endpoint returns that signature which clients can use to upload images.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUploadSignatureResponseDto"}}}}},"tags":["tasks"],"security":[{"bearer":[]}]}},"/tasks/{id}/batchCreateImages":{"post":{"operationId":"TasksController_batchCreateImages","summary":"","description":"Batch create Images\nThe user must have Update permission for Task.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchCreateImagesDto"}}}},"responses":{"201":{"description":""}},"tags":["tasks"],"security":[{"bearer":[]}]}},"/tasks/{id}/images":{"get":{"operationId":"TasksController_findAllImages","summary":"","description":"Get list of images for the Task.\nThe caller must have read permission for the Task","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"splitNumber","required":false,"in":"query","description":"Optional filtering by splitNumber","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Image"}}}}}},"tags":["tasks"],"security":[{"bearer":[]}]}},"/tasks/{id}/images/{imageId}":{"delete":{"operationId":"TasksController_removeImage","summary":"","description":"Delete an Image for Task. The calling user must have Update permission on the Task.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"imageId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["tasks"],"security":[{"bearer":[]}]}},"/feedbacks":{"post":{"operationId":"FeedbacksController_create","summary":"","description":"Create a new Feedback. The user must have Create permission for Feedback.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFeedbackDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Feedback"}}}}},"tags":["feedbacks"],"security":[{"bearer":[]}]},"get":{"operationId":"FeedbacksController_findAll","summary":"","description":"Get a list of all Feedbacks. The user must have permission to Read all Feedbacks.","parameters":[{"name":"taskId","required":false,"in":"query","description":"The task to which the feedbacks belong.","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Feedback"}}}}}},"tags":["feedbacks"],"security":[{"bearer":[]}]}},"/feedbacks/tasks/{taskId}":{"get":{"operationId":"FeedbacksController_findFeedbacks","summary":"","description":"Get all Feedbacks for a Task. The user must have Read permission on the Task.","parameters":[{"name":"taskId","required":true,"in":"path","description":"The task id to list Feedbacks for","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Feedback"}}}}}},"tags":["feedbacks"],"security":[{"bearer":[]}]}},"/feedbacks/{id}":{"get":{"operationId":"FeedbacksController_findOne","summary":"","description":"Get a Feedback.\nThe calling user must have Read permission on the Feedback.\nThe Read permission for the Feedback is granted if one of the following holds:\n1. The feedback is created by the User.\n2. User have Read permission on the Task to which this Feedback belongs.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Feedback"}}}}},"tags":["feedbacks"],"security":[{"bearer":[]}]},"patch":{"operationId":"FeedbacksController_update","summary":"","description":"Update a Feedback. The calling user must have Update permission on the Feedback.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFeedbackDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Feedback"}}}}},"tags":["feedbacks"],"security":[{"bearer":[]}]},"delete":{"operationId":"FeedbacksController_remove","summary":"","description":"Delete a Feedback. The calling user must have Delete permission on the Feedback.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["feedbacks"],"security":[{"bearer":[]}]}},"/iam/getPermissions":{"get":{"operationId":"IamController_getPermissions","summary":"","description":"Get permissions of the calling user.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"}}}}}},"tags":["IAM"],"security":[{"bearer":[]}]}}},"info":{"title":"Task","description":"Task service is responsible for iterative validation of Prototypes. Tasks are created and Feedback is provided through this service.","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"Bearer","description":"Authentication is done by a signed JWT","name":"Authorization","type":"http","in":"Header"}},"schemas":{"CreateProjectDto":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"}},"required":["title"]},"Project":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"dateCreated":{"format":"date-time","type":"string"},"status":{"enum":["open","closed"],"type":"string"},"userId":{"type":"string"}},"required":["id","title","description","dateCreated","status","userId"]},"UpdateProjectDto":{"type":"object","properties":{"status":{"enum":["open","closed"],"type":"string"}}},"Question":{"type":"object","properties":{"id":{"type":"string"},"description":{"type":"string"},"type":{"enum":["text","radio","star-rating","thumbs-rating"],"type":"string"},"order":{"type":"number","minimum":1},"radioOptions":{"type":"array","items":{"type":"string"}},"taskId":{"type":"string"}},"required":["id","description","type","order","radioOptions","taskId"]},"CreateTaskDto":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"testType":{"enum":["basic","split"],"type":"string"},"prototypeFormat":{"enum":["image","iframe","text"],"type":"string"},"iframeUrl1":{"type":"string"},"iframeUrl2":{"type":"string"},"textualDescription1":{"type":"string"},"textualDescription2":{"type":"string"},"minAge":{"type":"number","minimum":18,"maximum":67},"maxAge":{"type":"number","minimum":18,"maximum":67},"minExperience":{"type":"number","minimum":0,"maximum":49},"maxExperience":{"type":"number","minimum":0,"maximum":49},"budget":{"type":"number","minimum":0},"incentive":{"type":"number","minimum":0},"projectId":{"type":"string"},"skills":{"type":"array","items":{"type":"string"}},"countries":{"type":"array","items":{"type":"string"}},"questions":{"type":"array","items":{"$ref":"#/components/schemas/Question"}}},"required":["title","testType","prototypeFormat","budget","incentive","projectId","skills","countries","questions"]},"Image":{"type":"object","properties":{"id":{"type":"string"},"url":{"type":"string"},"dateCreated":{"format":"date-time","type":"string"},"splitNumber":{"type":"number","minimum":1,"maximum":2},"taskId":{"type":"string"},"cloudId":{"type":"string"}},"required":["id","url","dateCreated","splitNumber","taskId","cloudId"]},"Skill":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"}},"required":["id","name"]},"Country":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"code":{"type":"string"}},"required":["id","name","code"]},"Answer":{"type":"object","properties":{"id":{"type":"string"},"textAnswer":{"type":"string"},"radioAnswer":{"type":"string"},"starRatingAnswer":{"type":"number","minimum":1,"maximum":5},"thumbsRatingAnswer":{"enum":["up","down"],"type":"string"},"feedback":{"type":"string"},"questionId":{"type":"string"}},"required":["id","textAnswer","radioAnswer","starRatingAnswer","thumbsRatingAnswer","feedback","questionId"]},"Feedback":{"type":"object","properties":{"id":{"type":"string"},"dateCreated":{"format":"date-time","type":"string"},"comment":{"type":"string"},"paymentStatus":{"enum":["pending","completed"],"type":"string"},"taskId":{"type":"string"},"userId":{"type":"string"},"answers":{"type":"array","items":{"$ref":"#/components/schemas/Answer"}}},"required":["id","dateCreated","comment","paymentStatus","taskId","userId","answers"]},"Task":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"dateCreated":{"format":"date-time","type":"string"},"testType":{"enum":["basic","split"],"type":"string"},"prototypeFormat":{"enum":["image","iframe","text"],"type":"string"},"status":{"enum":["draft","open","closed"],"type":"string"},"iframeUrl1":{"type":"string"},"iframeUrl2":{"type":"string"},"textualDescription1":{"type":"string"},"textualDescription2":{"type":"string"},"minAge":{"type":"number","minimum":18,"maximum":67},"maxAge":{"type":"number","minimum":18,"maximum":67},"minExperience":{"type":"number","minimum":0,"maximum":49},"maxExperience":{"type":"number","minimum":0,"maximum":49},"budget":{"type":"number"},"incentive":{"type":"number"},"userId":{"type":"string"},"projectId":{"type":"string"},"images":{"type":"array","items":{"$ref":"#/components/schemas/Image"}},"skills":{"type":"array","items":{"$ref":"#/components/schemas/Skill"}},"countries":{"type":"array","items":{"$ref":"#/components/schemas/Country"}},"questions":{"type":"array","items":{"$ref":"#/components/schemas/Question"}},"feedbacks":{"type":"array","items":{"$ref":"#/components/schemas/Feedback"}}},"required":["id","title","description","dateCreated","testType","prototypeFormat","status","iframeUrl1","iframeUrl2","textualDescription1","textualDescription2","minAge","maxAge","minExperience","maxExperience","budget","incentive","userId","projectId","images","skills","countries","questions","feedbacks"]},"UpdateTaskDto":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"testType":{"enum":["basic","split"],"type":"string"},"prototypeFormat":{"enum":["image","iframe","text"],"type":"string"},"iframeUrl1":{"type":"string"},"iframeUrl2":{"type":"string"},"textualDescription1":{"type":"string"},"textualDescription2":{"type":"string"},"minAge":{"type":"number","minimum":18,"maximum":67},"maxAge":{"type":"number","minimum":18,"maximum":67},"minExperience":{"type":"number","minimum":0,"maximum":49},"maxExperience":{"type":"number","minimum":0,"maximum":49},"budget":{"type":"number","minimum":0},"incentive":{"type":"number","minimum":0},"skills":{"type":"array","items":{"type":"string"}},"countries":{"type":"array","items":{"type":"string"}},"questions":{"type":"array","items":{"$ref":"#/components/schemas/Question"}}}},"FileUploadSignatureResponseDto":{"type":"object","properties":{"apiKey":{"type":"string"},"uploadUrl":{"type":"string"},"signature":{"type":"string"},"timestamp":{"type":"number"},"folder":{"type":"string"}},"required":["apiKey","uploadUrl","signature","timestamp","folder"]},"BatchCreateImagesDto":{"type":"object","properties":{"images":{"type":"array","items":{"$ref":"#/components/schemas/Image"}}},"required":["images"]},"CreateFeedbackDto":{"type":"object","properties":{"comment":{"type":"string"},"taskId":{"type":"string"},"answers":{"type":"array","items":{"$ref":"#/components/schemas/Answer"}}},"required":["taskId","answers"]},"UpdateFeedbackDto":{"type":"object","properties":{"paymentStatus":{"enum":["pending","completed"],"type":"string"},"comment":{"type":"string"},"answers":{"type":"array","items":{"$ref":"#/components/schemas/Answer"}}}}}}}