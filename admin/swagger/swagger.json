{"openapi":"3.0.0","paths":{"/skills":{"get":{"operationId":"SkillsController_findAll","summary":"","description":"Get a list of all possible skills in the System.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Skill"}}}}}},"tags":["skills"]}},"/countries":{"get":{"operationId":"CountriesController_findAll","summary":"","description":"Get a list of all possible Countries in the System.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Country"}}}}}},"tags":["countries"]}},"/auth/login":{"post":{"operationId":"AuthController_login","summary":"","description":"Login with username and password. A JWT is returned in response which can be used to make further API calls.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}}},"tags":["auth"]}},"/auth/loginWithToken":{"post":{"operationId":"AuthController_loginWithToken","summary":"","description":"Login with a token. Token must be set as authorization header. If the request succeeds, the token is valid.","parameters":[],"responses":{"201":{"description":""}},"tags":["auth"],"security":[{"bearer":[]}]}},"/auth/google":{"get":{"operationId":"AuthController_googleAuth","summary":"","description":"This endpoint is just to enable Single Sign on with Google.","parameters":[],"responses":{"200":{"description":""}},"tags":["auth"]}},"/auth/google/redirect":{"get":{"operationId":"AuthController_googleAuthRedirect","summary":"","description":"After signing in with Google, the Google redirects to this endpoint along with user profile details (Google id, firstName, lastName etc).\nIf the User is already available in the system (matched by its Google id, it is logged in by issuing a JWT).\nIf the User is not available in the system (matched by its Google id), it is redirected to the registration page.","parameters":[],"responses":{"200":{"description":""}},"tags":["auth"]}},"/users":{"post":{"operationId":"UsersController_create","summary":"","description":"Create a new user with username and password.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["users"]},"get":{"operationId":"UsersController_findAll","summary":"","description":"Get all the Users in the System. The calling user must have Read permission for all Users.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}},"tags":["users"],"security":[{"bearer":[]}]}},"/users/createWithSSO":{"post":{"operationId":"UsersController_createWithSSO","summary":"","description":"Create a new user with single sign on provider profile id. In this case username and password is not required.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWithSSODto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["users"]}},"/users/{id}":{"get":{"operationId":"UsersController_findOne","summary":"","description":"Get a User by ID. The calling user must have Read permission for the User.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["users"],"security":[{"bearer":[]}]},"patch":{"operationId":"UsersController_update","summary":"","description":"Update a user. The calling user must have Update permission for the User.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["users"],"security":[{"bearer":[]}]},"delete":{"operationId":"UsersController_remove","summary":"","description":"Delete a user. The calling user must have Delete permission for the User.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["users"],"security":[{"bearer":[]}]}},"/users/batchGetInfo":{"post":{"operationId":"UsersController_batchGetInfo","summary":"","description":"Batch get User info e.g name.\nThe calling user must have Read permission for the Users.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchGetUserInfoDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}},"tags":["users"],"security":[{"bearer":[]}]}},"/iam/getPermissions":{"get":{"operationId":"IamController_getPermissions","summary":"","description":"Get permissions of the calling user.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"}}}}}},"tags":["IAM"],"security":[{"bearer":[]}]}}},"info":{"title":"Admin","description":"Admin service is responsible for User management and authentication. Also it provides static data i.e list of Skills and Countries ","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"Bearer","description":"Authentication is done by a signed JWT","name":"Authorization","type":"http","in":"Header"}},"schemas":{"Skill":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"}},"required":["id","name"]},"Country":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"code":{"type":"string"}},"required":["id","name","code"]},"LoginDto":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}},"required":["username","password"]},"LoginResponseDto":{"type":"object","properties":{"accessToken":{"type":"string"}},"required":["accessToken"]},"CreateUserDto":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"username":{"type":"string"},"password":{"type":"string"},"birthDate":{"format":"date-time","type":"string"},"gender":{"type":"string","enum":["male","female"]},"experience":{"type":"number","minimum":0},"roles":{"type":"array","items":{"type":"string","enum":["admin","developer","crowdworker"]}},"country":{"type":"string"},"skills":{"type":"array","items":{"type":"string"}}},"required":["firstName","lastName","username","password","roles","skills"]},"User":{"type":"object","properties":{"username":{"type":"string"},"passwordHash":{"type":"string"},"id":{"type":"string"},"googleId":{"type":"string"},"dateCreated":{"format":"date-time","type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"birthDate":{"format":"date-time","type":"string"},"gender":{"enum":["male","female"],"type":"string"},"experience":{"type":"number","minimum":0},"roles":{"type":"array","items":{"type":"string","enum":["admin","developer","crowdworker"]}},"country":{"$ref":"#/components/schemas/Country"},"skills":{"type":"array","items":{"$ref":"#/components/schemas/Skill"}}},"required":["id","googleId","dateCreated","firstName","lastName","birthDate","gender","experience","roles","country","skills"]},"CreateWithSSODto":{"type":"object","properties":{"ssoProfileId":{"type":"string"},"ssoProvider":{"type":"string","enum":["google","apple"]},"firstName":{"type":"string"},"lastName":{"type":"string"},"birthDate":{"format":"date-time","type":"string"},"gender":{"type":"string","enum":["male","female"]},"experience":{"type":"number","minimum":0},"roles":{"type":"array","items":{"type":"string","enum":["admin","developer","crowdworker"]}},"country":{"type":"string"},"skills":{"type":"array","items":{"type":"string"}}},"required":["ssoProfileId","ssoProvider","firstName","lastName","roles","skills"]},"BatchGetUserInfoDto":{"type":"object","properties":{"ids":{"type":"array","items":{"type":"string"}}},"required":["ids"]},"UpdateUserDto":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"username":{"type":"string"},"password":{"type":"string"},"birthDate":{"format":"date-time","type":"string"},"gender":{"type":"string","enum":["male","female"]},"experience":{"type":"number","minimum":0},"roles":{"type":"array","items":{"type":"string","enum":["admin","developer","crowdworker"]}},"country":{"type":"string"},"skills":{"type":"array","items":{"type":"string"}}}},"Action":{"type":"object","properties":{"action":{"type":"string","enum":["manage","create","read","update","delete"]}},"required":["action"]}}}}