<!--Based on the solution from https://stackblitz.com/edit/angular-card-select?file=app%2Fcard-fancy-example.html-->

<mat-card
  class="clickable mat-elevation-z4"
  [ngClass]="{
    'card-selected mat-elevation-z8':
      selectedPrototypeFormat === selectorForPrototypeFormat
  }"
>
  <span
    [matTooltip]="
      selectedPrototypeFormat === selectorForPrototypeFormat
        ? 'Selected'
        : 'Not selected'
    "
    class="selection"
  >
    <mat-icon>check_circle</mat-icon>
  </span>
  <mat-card-header>
    <div mat-card-avatar>
      <mat-icon class="avatar-icon">{{ icon }}</mat-icon>
    </div>
    <mat-card-title>{{ title }}</mat-card-title>
    <mat-card-subtitle>{{ subtitle }}</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <p>
      {{ note }}
    </p>
    <label>Select Test type:</label>
    <mat-radio-group
      fxLayout=""
      fxLayoutGap="20px"
      style="margin-top: 10px"
      [(ngModel)]="testType"
      (change)="testTypeChange($event)"
    >
      <mat-radio-button value="{{ TestTypeEnum.Basic }}"
        >{{
          'testType.' + TestTypeEnum.Basic | translate
        }}
        Test</mat-radio-button
      >
      <mat-radio-button value="{{ TestTypeEnum.Split }}"
        >{{
          'testType.' + TestTypeEnum.Split | translate
        }}
        Test</mat-radio-button
      >
    </mat-radio-group>
    <mat-error
      *ngIf="
        selectedPrototypeFormat === selectorForPrototypeFormat && !testType
      "
      style="margin-top: 5px"
      >Please select the Test type</mat-error
    >
  </mat-card-content>
</mat-card>
